{"version":3,"sources":["app.js","environment.js","forget-form.js","login-form.js","main.js","register-form.js","web-api.js","resources/index.js","messages.js"],"names":["App","configureRouter","config","router","title","map","route","moduleId","name","debug","testing","ForgetForm","email","activate","params","attached","hasFocus","recover","alert","LoginForm","inject","api","ea","password","remember","login","validateLogin","isRequesting","configure","Promise","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","RegisterForm","surname","repeatpassword","register","user","firstName","lastName","saveUser","latency","id","getId","users","WebAPI","getUserList","setTimeout","results","x","resolve","instance","JSON","parse","stringify","found","filter","push","EmailChanged"],"mappings":";;;;;;;;;;;;;KAAaA,cAAAA;AACZ,iBAAc;AAAA;AACb;;gBAEDC,2CAAgBC,QAAQC,QAAQ;AAC/BD,UAAOE,KAAP,GAAe,EAAf;AACAF,UAAOG,GAAP,CAAW,CACV,EAACC,OAAO,EAAR,EAAYC,UAAU,YAAtB,EAAoCH,OAAO,OAA3C,EADU,EAEV,EAACE,OAAO,OAAR,EAAiBC,UAAU,YAA3B,EAAyCC,MAAM,OAA/C,EAAwDJ,OAAO,OAA/D,EAFU,EAGV,EAACE,OAAO,UAAR,EAAoBC,UAAU,eAA9B,EAA+CC,MAAM,UAArD,EAAiEJ,OAAO,UAAxE,EAHU,EAIV,EAACE,OAAO,QAAR,EAAkBC,UAAU,aAA5B,EAA2CC,MAAM,QAAjD,EAA2DJ,OAAO,QAAlE,EAJU,EAKV,EAACE,OAAO,eAAR,EAAyBC,UAAU,aAAnC,EAAkDC,MAAM,QAAxD,EAAkEJ,OAAO,QAAzE,EALU,CAAX;;AAQA,QAAKD,MAAL,GAAcA,MAAd;AACA;;;;;;;;;;;oBCfa;AACbM,WAAO,IADM;AAEbC,aAAS;AAFI;;;;;;;;;;;;;;;KCAFC,qBAAAA;AACZ,wBAAc;AAAA;;AACb,QAAKC,KAAL,GAAa,EAAb;AACA;;uBAEDC,6BAASC,QAAQ;AAChB,OAAMF,QAAQE,OAAOF,KAArB;AACA,OAAIA,KAAJ,EAAW;AACV,SAAKA,KAAL,GAAaE,OAAOF,KAApB;AACA;AACD,UAAO,IAAP;AACA;;uBAEDG,+BAAW;AACV,OAAI,CAAC,KAAKH,KAAV,EAAiB;AAChB,SAAKI,QAAL,GAAgB,IAAhB;AACA;AACD;;uBAEDC,6BAAU;AACTC,SAAM,oDAAoD,KAAKN,KAA/D;AACA,QAAKA,KAAL,GAAa,EAAb;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KCnBWO,oBAAAA;YACLC,2BAAS;AACf,UAAO,yDAAP;AACA;;AAED,qBAAYC,GAAZ,EAAiBC,EAAjB,EAAqB;AAAA;;AACpB,QAAKD,GAAL,GAAWA,GAAX;AACA,QAAKC,EAAL,GAAUA,EAAV;;AAEA,QAAKV,KAAL,GAAa,EAAb;AACA,QAAKW,QAAL,GAAgB,EAAhB;AACA,QAAKC,QAAL,GAAgB,KAAhB;AACA;;sBAEDT,+BAAW;AACV,QAAKC,QAAL,GAAgB,IAAhB;AACA;;sBAEDS,yBAAQ;AACP,OAAI,KAAKJ,GAAL,CAASK,aAAT,CAAuB,KAAKd,KAA5B,EAAmC,KAAKW,QAAxC,CAAJ,EAAuD;AACtDL,UAAM,kDAAN;AACA,IAFD,MAEO;AACNA,UAAM,yBAAN;AACA;AACD;;;;uBAEa;AACb,WAAO,KAAKN,KAAL,IAAc,KAAKW,QAAnB,IAA+B,CAAC,KAAKF,GAAL,CAASM,YAAhD;AACA;;;;;;;;;;;;UCtBcC,YAAAA;;;;;;;;;;AANhBC,UAAQ3B,MAAR,CAAe;AACb4B,cAAU;AACRC,wBAAkB;AADV;AADG,GAAf;;AAMO,WAASH,SAAT,CAAmBI,OAAnB,EAA4B;AACjCA,YAAQC,GAAR,CACGC,qBADH,GAEGC,OAFH,CAEW,WAFX;;AAIA,QAAI,sBAAY1B,KAAhB,EAAuB;AACrBuB,cAAQC,GAAR,CAAYG,kBAAZ;AACD;;AAED,QAAI,sBAAY1B,OAAhB,EAAyB;AACvBsB,cAAQC,GAAR,CAAYI,MAAZ,CAAmB,iBAAnB;AACD;;AAEDL,YAAQM,KAAR,GAAgBC,IAAhB,CAAqB;AAAA,aAAMP,QAAQQ,OAAR,EAAN;AAAA,KAArB;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KCrBYC,uBAAAA;eAELrB,2BAAS;AACf,UAAO,gBAAP;AACA;;AAED,wBAAYC,GAAZ,EAAiB;AAAA;;AAChB,QAAKA,GAAL,GAAWA,GAAX;;AAEA,QAAKb,IAAL,GAAY,EAAZ;AACA,QAAKkC,OAAL,GAAe,EAAf;AACA,QAAK9B,KAAL,GAAa,EAAb;AACA,QAAKW,QAAL,GAAgB,EAAhB;AACA,QAAKoB,cAAL,GAAsB,EAAtB;AACA;;yBAED5B,+BAAW;AACV,QAAKC,QAAL,GAAgB,IAAhB;AACA;;yBAED4B,+BAAW;AACV,OAAIC,OAAO;AACVC,eAAW,KAAKtC,IADN;AAEVuC,cAAU,KAAKL,OAFL;AAGV9B,WAAO,KAAKA,KAHF;AAIVW,cAAU,KAAKA;AAJL,IAAX;;AAOA,OAAI,KAAKF,GAAL,CAAS2B,QAAT,CAAkBH,IAAlB,CAAJ,EAA6B;AAC5B,SAAKrC,IAAL,GAAY,EAAZ;AACA,SAAKkC,OAAL,GAAe,EAAf;AACA,SAAK9B,KAAL,GAAa,EAAb;AACA,SAAKW,QAAL,GAAgB,EAAhB;AACA,SAAKoB,cAAL,GAAsB,EAAtB;;AAEAzB,UAAM,iCAAN;AACA,IARD,MAQO;AACNA,UAAM,4BAAN;AACA;AACD;;;;uBAEa;AACb,WAAO,KAAKV,IAAL,IAAa,KAAKkC,OAAlB,IAA6B,KAAK9B,KAAlC,IAA2C,KAAKW,QAAhD,IAA4D,KAAKoB,cAAjE,IAAmF,CAAC,KAAKtB,GAAL,CAASM,YAApG;AACA;;;;;;;;;;;;;;;;;;;AC7CF,KAAIsB,UAAU,GAAd;AACA,KAAIC,KAAK,CAAT;;AAEA,UAASC,KAAT,GAAiB;AAChB,SAAO,EAAED,EAAT;AACA;;AAED,KAAIE,QAAQ,CACX;AACCF,MAAIC,OADL;AAECL,aAAW,MAFZ;AAGCC,YAAU,SAHX;AAICnC,SAAO,sBAJR;AAKCW,YAAU;AALX,EADW,EAQX;AACC2B,MAAIC,OADL;AAECL,aAAW,OAFZ;AAGCC,YAAU,OAHX;AAICnC,SAAO,oBAJR;AAKCW,YAAU;AALX,EARW,EAeX;AACC2B,MAAIC,OADL;AAECL,aAAW,MAFZ;AAGCC,YAAU,UAHX;AAICnC,SAAO,uBAJR;AAKCW,YAAU;AALX,EAfW,EAsBX;AACC2B,MAAIC,OADL;AAECL,aAAW,SAFZ;AAGCC,YAAU,UAHX;AAICnC,SAAO,uBAJR;AAKCW,YAAU;AALX,EAtBW,EA6BX;AACC2B,MAAIC,OADL;AAECL,aAAW,OAFZ;AAGCC,YAAU,OAHX;AAICnC,SAAO,oBAJR;AAKCW,YAAU;AALX,EA7BW,CAAZ;;KAsCa8B,iBAAAA;;;;QACZ1B,eAAe;;;mBAEf2B,qCAAc;AAAA;;AACb,QAAK3B,YAAL,GAAoB,IAApB;AACA,UAAO,IAAIE,OAAJ,CAAY,mBAAW;AAC7B0B,eAAW,YAAM;AAChB,SAAIC,UAAUJ,MAAM/C,GAAN,CAAU,aAAK;AAC5B,aAAO;AACN6C,WAAIO,EAAEP,EADA;AAENJ,kBAAWW,EAAEX,SAFP;AAGNC,iBAAUU,EAAEV,QAHN;AAINnC,cAAO6C,EAAE7C,KAJH;AAKNW,iBAAUkC,EAAElC;AALN,OAAP;AAOA,MARa,CAAd;AASAmC,aAAQF,OAAR;AACA,WAAK7B,YAAL,GAAoB,KAApB;AACA,KAZD,EAYGsB,OAZH;AAaA,IAdM,CAAP;AAeA;;mBAEDD,6BAASH,MAAM;AAAA;;AACd,QAAKlB,YAAL,GAAoB,IAApB;AACA,UAAO,IAAIE,OAAJ,CAAY,mBAAW;AAC7B0B,eAAW,YAAM;AAChB,SAAII,WAAWC,KAAKC,KAAL,CAAWD,KAAKE,SAAL,CAAejB,IAAf,CAAX,CAAf;AACA,SAAIkB,QAAQX,MAAMY,MAAN,CAAa;AAAA,aAAKP,EAAE7C,KAAF,IAAWiC,KAAKjC,KAArB;AAAA,MAAb,EAAyC,CAAzC,CAAZ;;AAEA,SAAImD,KAAJ,EAAW;AACV,aAAKpC,YAAL,GAAoB,KAApB;AACA,aAAO,KAAP;AACA,MAHD,MAGO;AACNgC,eAAST,EAAT,GAAcC,OAAd;AACAC,YAAMa,IAAN,CAAWN,QAAX;AACA;;AAED,YAAKhC,YAAL,GAAoB,KAApB;AACA+B,aAAQC,QAAR;AACA,YAAO,IAAP;AACA,KAfD,EAeGV,OAfH;AAgBA,IAjBM,CAAP;AAkBA;;mBAEDvB,uCAAcd,OAAOW,UAAU;AAC9B,UAAO6B,MAAMY,MAAN,CAAa;AAAA,WAAKP,EAAE7C,KAAF,IAAWA,KAAX,IAAoB6C,EAAElC,QAAF,IAAcA,QAAvC;AAAA,IAAb,EAA8D,CAA9D,CAAP;AACA;;;;;;;;;;;UC3FcK,YAAAA;AAAT,WAASA,SAAT,CAAmB1B,MAAnB,EAA2B,CAEjC;;;;;;;;;;;;;;;KCFYgE,uBAAAA,eACZ,sBAAYtD,KAAZ,EAAkB;AAAA;;AACjB,OAAKA,KAAL,GAAaA,KAAb;AACA","file":"app-bundle.js","sourcesContent":["export class App {\n\tconstructor() {\n\t}\n\n\tconfigureRouter(config, router) {\n\t\tconfig.title = '';\n\t\tconfig.map([\n\t\t\t{route: '', moduleId: 'login-form', title: 'Login'},\n\t\t\t{route: 'login', moduleId: 'login-form', name: 'login', title: 'Login'},\n\t\t\t{route: 'register', moduleId: 'register-form', name: 'register', title: 'Register'},\n\t\t\t{route: 'forget', moduleId: 'forget-form', name: 'forget', title: 'Forget'},\n\t\t\t{route: 'forget/:email', moduleId: 'forget-form', name: 'forget', title: 'Forget'}\n\t\t]);\n\n\t\tthis.router = router;\n\t}\n\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","export class ForgetForm {\r\n\tconstructor() {\r\n\t\tthis.email = \"\";\r\n\t}\r\n\r\n\tactivate(params) {\r\n\t\tconst email = params.email;\r\n\t\tif (email) {\r\n\t\t\tthis.email = params.email;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tattached() {\r\n\t\tif (!this.email) {\r\n\t\t\tthis.hasFocus = true;\r\n\t\t}\r\n\t}\r\n\r\n\trecover() {\r\n\t\talert(\"E-mail de recuperação enviado para o endereço: \" + this.email);\r\n\t\tthis.email = \"\";\r\n\t}\r\n}","import {EventAggregator} from \"aurelia-event-aggregator\";\r\nimport {WebAPI} from \"./web-api\";\r\n\r\nexport class LoginForm {\r\n\tstatic inject() {\r\n\t\treturn [WebAPI, EventAggregator]\r\n\t};\r\n\r\n\tconstructor(api, ea) {\r\n\t\tthis.api = api;\r\n\t\tthis.ea = ea;\r\n\r\n\t\tthis.email = \"\";\r\n\t\tthis.password = \"\";\r\n\t\tthis.remember = false;\r\n\t}\r\n\r\n\tattached() {\r\n\t\tthis.hasFocus = true;\r\n\t}\r\n\r\n\tlogin() {\r\n\t\tif (this.api.validateLogin(this.email, this.password)) {\r\n\t\t\talert(\"Usuário encontrado. Sucesso ao realizar o Login!\");\r\n\t\t} else {\r\n\t\t\talert(\"Usuário/Senha inválidos\");\r\n\t\t}\r\n\t}\r\n\r\n\tget canSave() {\r\n\t\treturn this.email && this.password && !this.api.isRequesting;\r\n\t}\r\n}","import environment from './environment';\n\n//Configure Bluebird Promises.\nPromise.config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {WebAPI} from \"./web-api\";\r\n\r\nexport class RegisterForm {\r\n\r\n\tstatic inject() {\r\n\t\treturn [WebAPI]\r\n\t};\r\n\r\n\tconstructor(api) {\r\n\t\tthis.api = api;\r\n\r\n\t\tthis.name = \"\";\r\n\t\tthis.surname = \"\";\r\n\t\tthis.email = \"\";\r\n\t\tthis.password = \"\";\r\n\t\tthis.repeatpassword = \"\";\r\n\t}\r\n\r\n\tattached() {\r\n\t\tthis.hasFocus = true;\r\n\t}\r\n\r\n\tregister() {\r\n\t\tlet user = {\r\n\t\t\tfirstName: this.name,\r\n\t\t\tlastName: this.surname,\r\n\t\t\temail: this.email,\r\n\t\t\tpassword: this.password\r\n\t\t};\r\n\r\n\t\tif (this.api.saveUser(user)) {\r\n\t\t\tthis.name = \"\";\r\n\t\t\tthis.surname = \"\";\r\n\t\t\tthis.email = \"\";\r\n\t\t\tthis.password = \"\";\r\n\t\t\tthis.repeatpassword = \"\";\r\n\r\n\t\t\talert(\"Usuário cadastrado com sucesso!\");\r\n\t\t} else {\r\n\t\t\talert(\"Este e-mail já está em uso\");\r\n\t\t}\r\n\t}\r\n\r\n\tget canSave() {\r\n\t\treturn this.name && this.surname && this.email && this.password && this.repeatpassword && !this.api.isRequesting;\r\n\t}\r\n}","let latency = 200;\r\nlet id = 0;\r\n\r\nfunction getId() {\r\n\treturn ++id;\r\n}\r\n\r\nlet users = [\r\n\t{\r\n\t\tid: getId(),\r\n\t\tfirstName: 'John',\r\n\t\tlastName: 'Tolkien',\r\n\t\temail: 'tolkien@inklings.com',\r\n\t\tpassword: '123'\r\n\t},\r\n\t{\r\n\t\tid: getId(),\r\n\t\tfirstName: 'Clive',\r\n\t\tlastName: 'Lewis',\r\n\t\temail: 'lewis@inklings.com',\r\n\t\tpassword: '123'\r\n\t},\r\n\t{\r\n\t\tid: getId(),\r\n\t\tfirstName: 'Owen',\r\n\t\tlastName: 'Barfield',\r\n\t\temail: 'barfield@inklings.com',\r\n\t\tpassword: '123'\r\n\t},\r\n\t{\r\n\t\tid: getId(),\r\n\t\tfirstName: 'Charles',\r\n\t\tlastName: 'Williams',\r\n\t\temail: 'williams@inklings.com',\r\n\t\tpassword: '123'\r\n\t},\r\n\t{\r\n\t\tid: getId(),\r\n\t\tfirstName: 'Roger',\r\n\t\tlastName: 'Green',\r\n\t\temail: 'green@inklings.com',\r\n\t\tpassword: '123'\r\n\t}\r\n];\r\n\r\nexport class WebAPI {\r\n\tisRequesting = false;\r\n\r\n\tgetUserList() {\r\n\t\tthis.isRequesting = true;\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tlet results = users.map(x => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tid: x.id,\r\n\t\t\t\t\t\tfirstName: x.firstName,\r\n\t\t\t\t\t\tlastName: x.lastName,\r\n\t\t\t\t\t\temail: x.email,\r\n\t\t\t\t\t\tpassword: x.password\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tresolve(results);\r\n\t\t\t\tthis.isRequesting = false;\r\n\t\t\t}, latency);\r\n\t\t});\r\n\t}\r\n\r\n\tsaveUser(user) {\r\n\t\tthis.isRequesting = true;\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tlet instance = JSON.parse(JSON.stringify(user));\r\n\t\t\t\tlet found = users.filter(x => x.email == user.email)[0];\r\n\r\n\t\t\t\tif (found) {\r\n\t\t\t\t\tthis.isRequesting = false;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tinstance.id = getId();\r\n\t\t\t\t\tusers.push(instance);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.isRequesting = false;\r\n\t\t\t\tresolve(instance);\r\n\t\t\t\treturn true;\r\n\t\t\t}, latency);\r\n\t\t});\r\n\t}\r\n\r\n\tvalidateLogin(email, password) {\r\n\t\treturn users.filter(x => x.email == email && x.password == password)[0];\r\n\t}\r\n}\r\n","export function configure(config) {\n  //config.globalResources([]);\n}\n","export class EmailChanged {\r\n\tconstructor(email){\r\n\t\tthis.email = email;\r\n\t}\r\n}"],"sourceRoot":"../src"}